<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1">
    <title>Results</title>
    <!--Remote scripts/styles-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/css/tether.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/css/bootstrap.css"/>
    <!--Local styles-->
    <link rel="stylesheet" href="form.css">
    <!--Local libs-->
    <script src="../js/lib/jquery.steps.js"></script>
    <script src="../js/lib/jquery.validate.min.js"></script>
    <script src="../js/lib/alphanum.js"></script>
    <script src="../js/lib/goalSeek.js"></script>
    <!--Local Javascript-->
    <script src="../js/childcare-costs.js"></script>
    <script src="../js/cost-by-age.js"></script>
    <script src="../js/cost-of-car-ownership.js"></script>
    <script src="../js/generated-standard.js"></script>
    <script src="../js/housing.js"></script>
    <script src="../js/misc.js"></script>
    <script src="../js/taxes-ehc.js"></script>
    <script src="../js/taxes-mhc.js"></script>
    <script src="../js/variables.js"></script>
    <script src="../js/user-inputs.js"></script>

    <style>
        .category-image {
            text-align: center;
        }

        .category-image img {
            max-width: 50px;
            max-height: 50px;
            margin-top: -20px;
        }

        .expense-category div {
            line-height: 50px;
            font-size: 16pt;
        }

        .expense-category {
            border-bottom: 2px solid black;
            margin: 10px;
        }

        .results-categories {
            padding-top: 30px;
        }

        .total-monthly-expenses {
            padding: 40px;
            text-align: center;
        }

        .logo-div{
            text-align: center;
            padding: 30px 0;
        }
        .logo-img{
            max-width: 200px;
            max-height: 200px;
        }
        .income-results h4{
            text-align: center;
            border-bottom: 2px solid black;
            padding-bottom: 2px;
        }
        .we-can-help{
            margin: 100px 0;
            text-align: center;
        }

        .btn.btn-filled, .btn.btn-empty{
            border-radius:15px;
            width:100%;
            max-width:230px;
            font-size:20px;
            font-weight: 500;
        }
        .btn.btn-filled{
            background: #64BA89;
            color: white;
        }
        .btn.btn-empty{
            background: white;
            border: #64BA89 2px solid;
            color: #64BA89;
        }

        #gross-income-annual,
        #gross-income-hourly,
        #net-income-annual,
        #net-income-hourly{
            text-align: right;
        }

        /* Chrome 29+ */
        @media print and (-webkit-min-device-pixel-ratio:0)
        and (min-resolution:.001dpcm) {
            .chrome-print-fix::first-letter {
                color: black;
            }
        }
    </style>

    <script>
        update_page = function(){
            marketplace_healthcare = localStorage.marketplace_healthcare;

            get_user_inputs_from_local_storage();

            for(let i = 0; i < 50; i++){
                ehc_gross_income = ehcCalculateGrossIncome();
                mhc_gross_income = mhcCalculateGrossIncome();
            }

            let var_annualHousingCosts = finalHousingAnnual();
            console.log(finalHousingAnnual());
            let monthlyHousingCosts = var_annualHousingCosts / 12;
            $('#housing-cost').text('$' + monthlyHousingCosts.toLocaleString(undefined, {maximumFractionDigits:0}));

            let var_annualChildcareCosts = finalChildcareAnnual();
            $('#childcare-cost').text('$' + (var_annualChildcareCosts / 12).toLocaleString(undefined, {maximumFractionDigits:0}));

            let var_annualFoodCosts = finalFoodAnnual();
            $('#food-cost').text('$' + (var_annualFoodCosts / 12).toLocaleString(undefined, {maximumFractionDigits:0}));

            let var_annualCarInsurance = finalCarInsuranceAnnual();
            $('#car-insurance-cost').text('$' + (var_annualCarInsurance / 12).toLocaleString(undefined, {maximumFractionDigits:0}));

            let var_annualCarOwnership = finalCarOwnershipAnnual();
            $('#car-ownership-cost').text('$' + (var_annualCarOwnership / 12).toLocaleString(undefined, {maximumFractionDigits:0}));

            let var_annualPublicTransportation = finalPublicTransportationAnnual();
            $('#public-transport-cost').text('$' + (var_annualPublicTransportation / 12).toLocaleString(undefined, {maximumFractionDigits:0}));

            let var_annualHealthInsurance = finalHealthInsuranceAnnual();
            $('#health-insurance-cost').text('$' + (var_annualHealthInsurance / 12).toLocaleString(undefined, {maximumFractionDigits:0}));

            let var_annualOutOfPocketCosts = finalOutOfPocketAnnual();
            $('#out-of-pocket-cost').text('$' + (var_annualOutOfPocketCosts / 12).toLocaleString(undefined, {maximumFractionDigits:0}));

            let var_annualEntertainmentCosts = finalEntertainmentAnnual();
            $('#entertainment-cost').text('$' + (var_annualEntertainmentCosts / 12).toLocaleString(undefined, {maximumFractionDigits:0}));

            let var_annualMiscellaneousCosts = finalMiscellaneousAnnual();
            $('#miscellaneous-cost').text('$' + (var_annualMiscellaneousCosts / 12).toLocaleString(undefined, {maximumFractionDigits:0}));

            let var_savingsYearly = finalSavingsAnnual();
            let var_netTaxesYearly = finalNetTaxesAnnual();

            let var_annualGrossIncome = finalGrossIncomeAnnual();
            let var_annualNetIncome = finalNetIncomeAnnual();

            // vvv this is handled in the final functions ^^^
//            if (marketplace_healthcare === "Yes") {
//                var_annualGrossIncome = mhc_gross_income;
//                var_annualNetIncome = mhcNetYearlyIncome();
//            }else {
//                var_annualGrossIncome = ehc_gross_income;
//                var_annualNetIncome = ehcNetYearlyIncome();
//            }
            $('#gross-income-annual').text('$' + var_annualGrossIncome.toLocaleString(undefined, {maximumFractionDigits:0}));

            $('#net-income-annual').text('$' + var_annualNetIncome.toLocaleString(undefined, {maximumFractionDigits:0}));

            let var_annualTotalExpenses = finalTotalExpensesAnnual();
            $("#total-monthly-expenses").text('$' + (var_annualTotalExpenses / 12).toLocaleString(undefined, {maximumFractionDigits:0}));

            let var_grossHourlyIncome = finalGrossIncomeAnnualHourly();
//            let var_grossHourlyIncome = var_annualGrossIncome / 2080;
            $('#gross-income-hourly').text('$' + var_grossHourlyIncome.toFixed(2));

            let var_netHourlyIncome = finalNetIncomeAnnualHourly();
//            let var_netHourlyIncome = var_annualNetIncome / 2080;
            $('#net-income-hourly').text('$' + var_netHourlyIncome.toFixed(2));


            console.log('Net Hourly Income:', var_netHourlyIncome);
        };
        $(document).ready(function(){
            update_page();
        })
    </script>
</head>
<body>
<div class="col-12">
    <div class="col-12 logo-div">
        <img src="../images/piggy-bank.png" alt="" class="logo-img">
    </div>
    <div class="row total-monthly-expenses">
        <div class="col-12">
            <h3 class="chrome-print-fix">Total Monthly Expenses</h3>
        </div>
        <div class="col-12">
            <h2 id="total-monthly-expenses" class="chrome-print-fix">Unknown</h2>
        </div>
    </div>
    <div class="row income-results">
        <div class="row col-sm-8 offset-sm-2 col-xs-12">
            <div class="col-xs-12 col-sm-6">
                <h4 class="chrome-print-fix">Gross Income</h4>
                <div class="row">
                    <div class="col-8">Annual</div>
                    <div class="col-4" id="gross-income-annual">Unknown</div>
                </div>

                <div class="row">
                    <div class="col-8">Hourly</div>
                    <div class="col-4" id="gross-income-hourly">Unknown</div>
                </div>
            </div>

            <div class="col-xs-12 col-sm-6">
                <h4 class="chrome-print-fix">Net Income</h4>
                <div class="row">
                    <div class="col-8">Annual</div>
                    <div class="col-4" id="net-income-annual">Unknown</div>
                </div>

                <div class="row">
                    <div class="col-8">Hourly</div>
                    <div class="col-4" id="net-income-hourly">Unknown</div>
                </div>
            </div>

        </div>

    </div>
    <div class="row results-categories">


        <div class="col-xs-12 col-sm-6">
            <div class="row expense-category">
                <div class="col-2 category-image">
                    <img src="../images/house.png" alt="">
                </div>
                <div class="col-7">
                    Housing
                </div>
                <div class="col-3" id="housing-cost">
                    Unknown
                </div>
            </div>
            <div class="row expense-category">
                <div class="col-2 category-image">
                    <img src="../images/parambulator.png" alt="">
                </div>
                <div class="col-7">
                    Childcare
                </div>
                <div class="col-3" id="childcare-cost">
                    Unknown
                </div>
            </div>
            <div class="row expense-category">
                <div class="col-2 category-image">
                    <img src="../images/cutlery.png" alt="">
                </div>
                <div class="col-7">
                    Food
                </div>
                <div class="col-3" id="food-cost">
                    Unknown
                </div>
            </div>
            <div class="row expense-category">
                <div class="col-2 category-image">
                    <img src="../images/car-insurance.png" alt="">
                </div>
                <div class="col-7">
                    Car Insurance
                </div>
                <div class="col-3" id="car-insurance-cost">
                    Unknown
                </div>
            </div>
            <div class="row expense-category">
                <div class="col-2 category-image">
                    <img src="../images/car.png" alt="">
                </div>
                <div class="col-7">
                    Car Ownership
                </div>
                <div class="col-3" id="car-ownership-cost">
                    Unknown
                </div>
            </div>
        </div>
        <div class="col-xs-12 col-sm-6">
            <div class="row expense-category">
                <div class="col-2 category-image">
                    <img src="../images/train.png" alt="">
                </div>
                <div class="col-7">
                    Public Transport
                </div>
                <div class="col-3" id="public-transport-cost">
                    Unknown
                </div>
            </div>
            <div class="row expense-category">
                <div class="col-2 category-image">
                    <img src="../images/healthcare.png" alt="">
                </div>
                <div class="col-7">
                    Health Insurance
                </div>
                <div class="col-3" id="health-insurance-cost">
                    Unknown
                </div>
            </div>
            <div class="row expense-category">
                <div class="col-2 category-image">
                    <img src="../images/out-of-pocket.png" alt="">
                </div>
                <div class="col-7">
                    Out of Pocket
                </div>
                <div class="col-3" id="out-of-pocket-cost">
                    Unknown
                </div>
            </div>
            <div class="row expense-category">
                <div class="col-2 category-image">
                    <img src="../images/entertainment.png" alt="">
                </div>
                <div class="col-7">
                    Entertainment
                </div>
                <div class="col-3" id="entertainment-cost">
                    Unknown
                </div>
            </div>
            <div class="row expense-category">
                <div class="col-2 category-image">
                    <img src="../images/misc.png" alt="">
                </div>
                <div class="col-7">
                    Miscellaneous
                </div>
                <div class="col-3" id="miscellaneous-cost">
                    Unknown
                </div>
            </div>
        </div>
    </div>

    <div class="row we-can-help">
        <div class="col-sm-4 offset-sm-4 col-xs-12">
            Are you making less than this?<br/>
            <div class="btn btn-empty">
                We can help!
            </div>
            <div id="study-description"><br/>
                The study was designed to calculate the typical costs related to the size and makeup of your household. In some cases, the
                assumptions made might not represents your householdâ€™s actual situation, so we have allowed for adjustments in a few
                categories. The following pages will walk you through these options.
            </div>
        </div>
    </div>
</div>

</body>
</html>